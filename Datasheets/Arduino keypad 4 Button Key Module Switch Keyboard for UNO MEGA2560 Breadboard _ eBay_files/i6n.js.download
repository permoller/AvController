!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(){var t=this;r(this,e),this.handleChange=function(e){var n=e.ratio,r=e.time,o=!1;t.startTime||(t.startTime=+new Date-r,o=!0),n>4?(t.inscreenFrom||(t.inscreenFrom=t.startTime+(o?0:r)),t.viewableFrom||(t.viewableFrom=t.startTime+(o?0:r))):n>0?(t.inscreenFrom||(t.inscreenFrom=t.startTime+(o?0:r)),t.viewableFrom&&(t.viewableMillis+=t.startTime+(o?0:r)-t.viewableFrom,t.viewableFrom=null)):(t.inscreenFrom&&(t.inscreenMillis+=t.startTime+(o?0:r)-t.inscreenFrom,t.inscreenFrom=null),t.viewableFrom&&(t.viewableMillis+=t.startTime+(o?0:r)-t.viewableFrom,t.viewableFrom=null))},this.getResult=function(){var e=t.startTime,n=t.inscreenType,r=t.inscreenFrom,o=t.viewableFrom;if(!e)return null;var i=+new Date,u=t.inscreenMillis,a=t.viewableMillis;return u+=i-(r||i),a+=i-(o||i),{inscreenMillis:Math.floor(u),viewableMillis:Math.floor(a),totalMillis:Math.floor(i-e),inscreenType:n}},this.debug=function(){window.setInterval(function(){},500)},this.inscreenMillis=0,this.viewableMillis=0};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRATEGY_TYPES={friendly:"friendly",firefox:"firefox",intersection_observer:"intersection_observer"}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.isDocuemntHidden=function(e){return e.hidden?e.hidden:e.mozHidden?!!e.mozHidden:e.msHidden?!!e.msHidden:!!e.webkitHidden&&!!e.webkitHidden},t.positionFromTop=function(e){return e.reduce(function(e,t){var n=e.x,r=e.y,o=t.getBoundingClientRect();return{x:n+o.top,y:r+o.left}},{x:0,y:0})},t.getWidthAndHeightFromWindow=function(e){return e.innerWidth?{width:e.innerWidth,height:e.innerHeight}:e.document.documentElement&&e.document.documentElement.clientWidth?{width:e.document.documentElement.clientWidth,height:e.document.documentElement.clientHeight}:e.document.body?{width:e.document.body.clientWidth,height:e.document.body.clientHeight}:{width:0,height:0}},t.walkToParent=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null!=t.frameElement?e(t.parent,[t.frameElement].concat(r(n))):n},t.calculateIntersectionRatio=function(e,t){var n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),o=Math.max(e.y,t.y),i=Math.min(e.y+e.height,t.y+t.height);return r>=n&&i>=o?(r-n)*(i-o)/(t.width*t.height)*10:0},function(e,t,n){return t?e.top.pageXOffset:n?e.top.document.documentElement.scrollLeft:e.top.document.body.scrollLeft}),i=function(e,t,n){return t?e.top.pageYOffset:n?e.top.document.documentElement.scrollTop:e.top.document.body.scrollTop};t.getWindowScrollPosition=function(e){var t=void 0!==e.pageXOffset,n="CSS1Compat"===(e.document.compatMode||"");return{x:o(e,t,n),y:i(e,t,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(8),a=r(u),c=n(9),l=r(c),f=n(12),s=r(f),d=n(13),h=r(d),p=n(11),v=r(p),y=n(10),w=r(y),b=n(4),m={win:window,el:window.document.documentElement},g=(0,l.default)({doc:window.document,regexp:new RegExp(b.scriptUrl,"i")});if(g){var _=g.src.split("?"),O=i(_,2),j=O[1],M=(0,v.default)(j),T=M.source,E=M.override_url,P=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(M,["source","override_url"]);T&&(window.$$strategy=(0,a.default)(m),window.$$strategy&&(0,h.default)(window,function(){var e=window.$$strategy.getResult();if(e){var t=o({source:T},(0,w.default)(e,T),P),n=Object.keys(t).map(function(e){return e+"="+t[e]});"dogfight"===T&&E?(0,s.default)(window,T,decodeURIComponent(E)+"&"+n.join("&")):(0,s.default)(window,T,b.apiEndpoint+"?"+n.join("&"))}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.scriptUrl="de17a.com/i6n.js",o=t.apiEndpoint="https://d3p.de17a.com/api/inscreen";if(""===r)throw new Error("Missing: process.env.SCRIPT_URL");if(""===o)throw new Error("Missing: process.env.API_ENDPOINT")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(1),f=n(2),s=500,d=90,h=function(e){function t(e){var n=e.win,i=e.el;r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=+new Date;return n.setInterval(function(){var e=+new Date-a,t={x:n.mozInnerScreenX-n.screenX,y:n.mozInnerScreenY-n.screenY+d,width:i.clientWidth,height:i.clientHeight},r={x:0,y:0,width:n.outerWidth,height:n.outerHeight},o=Math.floor((0,f.calculateIntersectionRatio)(r,t));u.handleChange({time:e,ratio:o})},s),u.inscreenType=l.STRATEGY_TYPES.firefox,u}return i(t,e),u(t,null,[{key:"works",value:function(e){var t=e.win;try{return void 0!==t.mozInnerScreenX}catch(e){return!1}}}]),t}(c.default);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(1),f=n(2),s=500,d=function(e){function t(e){var n=e.win,i=e.el;r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=+new Date;return n.setInterval(function(){var e=(0,f.getWidthAndHeightFromWindow)(n.top),t=e.width,r=e.height;if(t+r>0){var o=+new Date-a,c=(0,f.getWindowScrollPosition)(n),l=c.x,s=c.y,d=(0,f.walkToParent)(n),h=(0,f.positionFromTop)(d),p=h.x,v=h.y,y={x:p,y:v,width:i.clientWidth,height:i.clientHeight},w={x:l,y:s,width:t,height:r},b=Math.floor((0,f.calculateIntersectionRatio)(w,y));u.handleChange({time:o,ratio:b})}},s),u.inscreenType=l.STRATEGY_TYPES.friendly,u}return i(t,e),u(t,null,[{key:"works",value:function(e){var t=e.win;try{return void 0===t.location.ancestorOrigins&&(t.top.location.origin===t.location.origin||"null"===t.location.origin)&&!!(0,f.getWidthAndHeightFromWindow)(t.top)}catch(e){return!1}}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(1),f={threshold:[0,.1,.2,.3,.4,.5]},s=function(e){function t(e){var n=e.win,i=e.el;r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.processChanges=function(e){e.forEach(function(e){var t=e.time,n=e.intersectionRatio,r=Math.floor(10*n);u.handleChange({ratio:r,time:t})})},u.observer=new n.IntersectionObserver(u.processChanges,f),u.observer.observe(i),u.inscreenType=l.STRATEGY_TYPES.intersection_observer,u}return i(t,e),u(t,null,[{key:"works",value:function(e){var t=e.win;try{return!!t.IntersectionObserver}catch(e){return!1}}}]),t}(c.default);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=(r(o),n(7)),u=r(i),a=n(6),c=r(a),l=n(5),f=r(l);t.default=function(e){return u.default.works(e)?new u.default(e):c.default.works(e)?new c.default(e):f.default.works(e)?new f.default(e):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.doc,n=e.regexp,r=t.getElementsByTagName("script"),o=0;o<r.length;o+=1)if(n.test(r[o].src))return r[o];return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.totalMillis,r=e.inscreenMillis,o=e.viewableMillis,i=e.inscreenType;switch(t){case"dogfight":return{inscreen_time:r,viewable_time:o,total_time:n,inscreen_type:i};default:return{im:r,vm:o,tm:n,it:i}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return e?e.split("&").reduce(function(e,t){var n=t.split("="),u=i(n,2),a=u[0],c=u[1];return o({},e,r({},a,c))},{}):{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if("dogfight"!==t&&e.navigator&&e.navigator.sendBeacon)e.navigator.sendBeacon(n,{});else try{var r=new Image;r.onerror&&r.onerror(function(){}),r.onload&&r.onload(function(){}),r.src=n}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!1,r=function(){n||(n=!0,t())};e.addEventListener?(e.addEventListener("beforeunload",r,!1),e.addEventListener("unload",r,!1)):e.attachEvent&&(e.attachEvent("onbeforeunload",r),e.attachEvent("onunload",r))}},function(e,t,n){e.exports=n(3)}]);